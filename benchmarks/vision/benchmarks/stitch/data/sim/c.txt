gcc -DGCC -DTIMING -Dsim -lm -O2 -I../../../C_common -I../../C ../../../C_common/calcSobel_dX.c ../../../C_common/calcSobel_dY.c ../../../C_common/fDeepCopy.c ../../../C_common/fDeepCopyRange.c ../../../C_common/fDivide.c ../../../C_common/ffConv2.c ../../../C_common/ffDivide.c ../../../C_common/ffiConv2.c ../../../C_common/fFind3.c ../../../C_common/ffTimes.c ../../../C_common/ffVertcat.c ../../../C_common/fHorzcat.c ../../../C_common/fiConv2.c ../../../C_common/fiDeepCopy.c ../../../C_common/fMallocHandle.c ../../../C_common/fMdivide.c ../../../C_common/fMinus.c ../../../C_common/fMtimes.c ../../../C_common/fPlus.c ../../../C_common/fReshape.c ../../../C_common/fSelfCheck.c ../../../C_common/fSetArray.c ../../../C_common/fSort.c ../../../C_common/fSortIndices.c ../../../C_common/fSum2.c ../../../C_common/fSum.c ../../../C_common/fTimes.c ../../../C_common/fTranspose.c ../../../C_common/horzcat.c ../../../C_common/iDeepCopy.c ../../../C_common/iDeepCopyRange.c ../../../C_common/iHorzcat.c ../../../C_common/iiConv2.c ../../../C_common/imageBlur.c ../../../C_common/imageResize.c ../../../C_common/iMallocHandle.c ../../../C_common/iReshape.c ../../../C_common/iSetArray.c ../../../C_common/isMinus.c ../../../C_common/iSort.c ../../../C_common/iSortIndices.c ../../../C_common/isPlus.c ../../../C_common/iTranspose.c ../../../C_common/makeImage.c ../../../C_common/photonEndTiming.c ../../../C_common/photonPrintTiming.c ../../../C_common/photonReportTiming.c ../../../C_common/photonStartTiming.c ../../../C_common/readFile.c ../../../C_common/readImage.c ../../../C_common/selfCheck.c ../../C/dist2.c ../../C/extractFeatures.c ../../C/getANMS.c ../../C/harris.c ../../C/matchFeatures.c ../../C/maxWindow.c ../../C/script_stitch.c ../../C/supress.c -o stitch
Running C Version of the benchmark
./stitch ../../data/sim ../result
Image paths are ../../data/sim/1.bmp	../../data/sim/2.bmp
bits per pixel 24
137
94
107
117
52
50
33
26
42
53
62
83
89
87
147
193
182
175
176
178
176
174
170
160
156
174
171
169
165
161
159
158
155
147
151
144
148
144
141
143
129
123
121
129
118
106
107
103
178
108
103
102
56
75
66
63
57
86
92
90
91
116
182
190
177
176
175
181
171
165
167
171
180
177
173
171
159
156
160
162
158
148
152
144
144
153
146
143
134
130
135
132
117
113
113
105
148
96
88
94
62
65
70
82
64
87
93
93
101
161
188
191
179
180
165
163
164
174
176
178
178
179
178
170
162
156
160
154
151
154
155
152
148
152
145
141
132
131
143
128
120
125
110
108
146
101
78
78
75
62
98
92
70
92
96
93
137
176
187
207
177
159
165
177
175
178
169
172
181
182
177
164
168
165
165
155
146
146
156
144
144
143
138
135
126
134
128
132
131
119
116
104
163
125
91
99
68
66
125
100
85
97
100
117
183
184
177
129
82
169
186
173
175
173
160
172
181
177
172
170
168
165
164
158
147
152
159
146
145
138
135
130
124
135
118
126
124
126
110
108
219
163
112
131
85
95
136
131
101
106
108
133
153
123
94
82
97
175
177
166
171
166
155
171
180
178
180
174
155
155
157
154
140
147
166
149
149
137
133
129
131
124
123
122
125
126
112
112
218
136
121
126
112
108
98
83
68
77
81
101
67
43
134
143
105
165
180
173
171
171
165
174
182
178
180
162
152
155
165
148
138
149
169
153
148
135
134
132
128
123
127
126
123
126
127
118
153
111
104
95
70
58
55
62
84
58
53
106
50
77
147
122
77
163
184
181
175
172
170
179
184
178
177
164
154
160
154
146
139
149
163
149
153
137
136
130
129
131
131
129
120
125
122
115
109
121
99
101
89
73
119
183
149
155
102
70
31
93
145
105
58
166
182
172
177
171
169
179
180
179
180
156
151
151
140
141
140
154
172
149
141
139
135
136
128
136
132
125
123
122
114
123
87
95
85
89
81
148
139
138
111
124
105
112
82
99
141
109
61
163
183
169
171
168
166
177
179
181
182
160
156
148
140
140
140
148
166
145
134
130
132
136
125
138
136
131
125
118
117
121
90
84
74
66
107
197
117
67
96
122
98
88
92
126
145
106
55
164
182
169
167
172
168
175
172
175
180
163
160
151
151
151
142
150
175
148
137
132
135
133
130
136
128
129
119
116
128
118
91
89
72
103
134
52
56
74
84
139
127
96
69
134
153
98
50
161
179
175
167
174
171
174
176
173
171
167
162
156
166
166
164
157
158
146
148
135
142
140
149
139
123
117
112
109
130
122
102
95
85
98
96
31
37
91
104
107
125
117
110
146
158
100
59
161
179
171
176
181
171
183
189
183
186
175
174
161
172
166
172
169
169
152
148
139
136
138
147
139
129
125
118
126
126
124
140
107
99
102
127
106
73
89
93
90
119
104
86
119
130
84
55
160
182
172
179
173
168
175
182
169
180
166
164
162
156
159
162
163
169
153
145
142
140
140
135
128
138
127
124
125
123
116
115
95
116
110
172
148
68
92
94
57
74
63
95
121
128
91
66
162
183
168
164
167
165
169
179
168
173
156
145
147
156
152
148
164
164
147
131
128
137
132
122
128
123
127
120
114
122
125
105
101
94
80
106
113
108
106
68
80
70
87
105
128
135
106
78
174
181
175
167
168
174
165
177
163
176
158
149
142
143
146
147
165
166
142
132
130
131
117
121
129
134
122
122
120
118
120
146
112
95
87
93
98
108
111
98
95
85
110
109
111
123
117
69
170
175
169
178
168
174
167
168
157
174
151
155
146
142
146
142
152
163
144
142
135
128
120
119
124
130
123
126
121
123
105
151
119
101
94
84
109
109
78
71
68
87
113
113
119
129
105
68
161
179
170
174
174
173
165
174
157
174
150
145
143
149
138
140
152
159
146
136
136
128
127
120
132
137
127
127
125
120
108
127
110
109
102
88
98
144
131
80
78
87
107
116
118
125
102
58
154
178
167
174
169
163
162
172
162
173
150
142
144
151
139
138
153
162
151
146
144
125
124
127
138
137
127
122
131
125
113
135
119
115
104
88
99
213
198
109
91
110
108
117
119
122
87
56
157
176
176
173
172
167
165
167
159
166
158
147
139
142
137
132
159
157
144
139
141
125
122
126
119
116
125
115
119
124
119
133
119
114
103
120
158
154
129
155
159
173
184
121
114
130
72
53
159
177
177
170
170
169
159
161
156
162
153
150
143
143
132
134
158
155
132
129
137
120
129
127
124
122
116
118
114
116
126
130
114
116
182
233
205
182
182
210
198
168
182
158
124
134
77
46
165
173
168
170
166
171
162
144
151
164
145
141
141
140
136
136
161
161
133
136
132
121
125
118
117
119
121
128
123
115
118
149
119
155
233
214
176
130
105
90
92
92
84
114
124
129
82
70
169
169
160
165
163
171
160
150
155
164
146
142
138
135
136
130
154
162
138
136
127
123
125
117
118
120
124
123
119
104
105
211
163
176
152
150
136
114
113
106
104
102
106
155
130
118
103
105
181
162
160
163
164
164
159
147
157
168
145
144
137
130
134
131
160
156
134
143
140
123
123
123
123
127
113
116
115
101
109
158
95
90
97
110
103
103
106
108
111
102
98
122
112
112
125
93
155
167
161
164
162
152
153
145
153
165
141
135
135
133
137
133
145
143
139
136
130
122
121
126
119
112
116
114
109
106
111
127
94
105
106
94
94
77
66
80
90
90
87
91
105
128
122
80
133
167
162
166
167
154
149
147
145
145
138
142
139
143
135
131
133
133
132
123
122
122
121
126
118
111
104
104
107
102
98
143
113
125
162
101
115
145
134
89
86
101
93
106
112
140
120
59
123
165
163
169
163
160
150
142
143
137
139
147
140
152
136
131
149
136
125
122
122
122
124
116
110
122
113
108
104
100
91
171
120
112
104
107
111
157
155
106
104
87
80
111
79
126
110
76
150
162
163
163
157
150
154
149
142
141
136
138
146
142
135
134
134
128
133
126
124
126
121
115
110
109
110
109
109
112
96
187
131
117
116
112
102
109
108
113
82
76
98
111
68
139
104
74
158
166
162
155
154
149
149
149
143
141
149
140
146
140
136
137
149
132
135
119
126
131
115
118
109
107
112
114
100
110
106
172
133
115
110
109
118
115
165
175
76
59
97
124
88
136
112
59
155
165
161
159
153
151
149
142
137
143
160
142
133
135
131
147
164
132
125
118
123
114
115
122
116
113
110
117
100
100
99
159
119
112
106
104
107
106
123
139
78
78
89
119
131
146
121
50
148
167
163
157
154
146
144
142
140
149
143
136
133
134
139
144
153
144
131
123
129
119
121
114
116
111
103
100
101
93
91
163
130
113
107
100
87
120
113
134
73
81
95
113
122
143
126
66
148
166
164
159
154
150
141
143
150
138
143
137
129
141
143
143
149
134
135
128
127
120
125
122
115
113
113
105
95
89
79
193
145
106
103
96
86
113
122
162
84
81
101
117
117
138
134
84
147
168
166
158
155
153
146
141
142
137
143
136
129
131
137
148
150
125
129
124
121
114
115
114
117
121
107
99
90
86
86
193
146
110
109
104
90
76
127
140
87
87
101
125
126
145
126
117
145
167
166
158
156
150
143
144
142
144
144
128
130
133
136
141
146
124
121
122
116
119
124
115
113
111
109
98
92
84
86
212
179
137
115
110
103
110
107
130
101
78
98
132
127
136
117
127
144
165
167
162
155
148
138
142
144
144
138
133
127
134
138
130
130
129
127
121
116
121
128
118
110
109
108
98
87
87
80
227
202
144
111
109
100
102
115
131
107
71
107
127
122
132
129
144
155
166
169
161
154
148
137
138
143
135
132
135
133
138
130
138
128
123
124
115
111
118
124
115
106
100
102
96
85
90
83
size of image = 36	48
Expected File = .//expected.m
Dimensions match. Expected = 1728, Observed = 1728 
Checking error: Values mismtach at 1 element
Expected value = 213.000000, observed = 202.000000
Error in Stitch


sizes for ffconv2 = 0.000000	0.000000	0.000000	0.000000	0.000000	0.000000
offsets = 1	2

36	50


sizes for ffconv2 = 0.000000	0.000000	0.000000	0.000000	0.000000	0.000000
offsets = 1	2

36	50
36	50	36	50
0	1	0	3	0	3
validCount -> 0
image sizes = 36	48
Iconv sizes = 36	48
Iconv sizes = 36	48
Iconv sizes = 36	48
Isub sizes intial = 7	10
Isub sizes = 7	10
Cycles elapsed = 218318520	0
